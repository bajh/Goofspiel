<html>
<head>
  <link rel="stylesheet" type="text/css" href="/stylesheet.css">
  <script src="/socket.io/socket.io.js"></script>
  <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
  <script>
  $(function(){
    var socket = io();

    socket.on('game message', function(msg){
      $('#game-message-panel').text(msg);
    });

    socket.on('begin game', function(){
      $('#game-message-panel').text("Game now beginning!");
    });

    socket.on('nextcard', function(card){
      $('#prize-card').text(card);
      $('#opponent-played-card').text('');
      $('#my-played-card').text('');
      $('.card').on('click', function(){
        socket.emit('card play', $(this).attr('id'));
        //It would be ideal to require confirmation from the server that the card was submitted before showing it on the client-side
        $('#my-played-card').text($(this).attr('id'));
        $(this).remove();
        $('.card').off();
      });
    });

    socket.on('opponent move', function() {
      $('#opponent-played-card').text("X");
    });

    socket.on('reveal card', function(choice) {
      $('#opponent-played-card').text(choice);
    });

  });
  </script>
</head>

<body>
  <div id="game-message-panel">
  </div>
  
  <div id="prize-card">
  </div>

  <div id="my-played-card">
  </div>

  <div id="opponent-played-card">
  </div>

  <div class="card" id="1">
    1
  </div>

  <div class="card" id="2">
    2
  </div>

  <div class="card" id="3">
    3
  </div>

  <div class="card" id="4">
    4
  </div>

  <div class="card" id="5">
    5
  </div>

  <div class="card" id="6">
    6
  </div>

  <div class="card" id="7">
    7
  </div>

  <div class="card" id="8">
    8
  </div>

  <div class="card" id="9">
    9
  </div>

  <div class="card" id="10">
    10
  </div>

  <div class="card" id="11">
    jack
  </div>

  <div class="card" id="12">
    queen
  </div>

  <div class="card" id="13">
    king
  </div>
</body>
</html>